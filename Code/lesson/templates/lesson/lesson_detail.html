{% extends 'base/base.html' %}

{% block import %}
{% load staticfiles %}
<link href="{% static 'lesson/css/lesson.css' %}" rel="stylesheet">
<script src="{% static 'lesson/js/lesson.js' %}" type="text/javascript"></script>
<!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
<!--[if lt IE 9]>
      <script src="js/vendor/html5shiv.js"></script>
      <script src="js/vendor/respond.min.js"></script>
    <![endif]-->
{% endblock import %}
{% block main %}
<div class="container">
    <h2>课程页面</h2>
</div>
<!-- /.container -->

<div class="container well center-block row">
    <dl class="dl-horizontal col-sm-6">
        <dt>名称</dt>
        <dd >{{ lesson.title }}</dd>
    </dl>
    <dl class="dl-horizontal col-sm-6">
        <dt>描述</dt>
        <dd>{{ lesson.description|default:'None' }}</dd>
    </dl>
    <dl class="dl-horizontal col-sm-6">
        <dt>课时</dt>
        <dd>{{ lesson.classHour }}</dd>
    </dl>
    <dl class="dl-horizontal col-sm-6">
        <dt>学分</dt>
        <dd>{{ lesson.credit }}</dd>
    </dl>
    <dl class="dl-horizontal col-sm-6">
        <dt>教师</dt>
        <dd>{{ lesson.teacher|truncatechars:20 }}</dd>
    </dl>
    <dl class="dl-horizontal col-sm-6">
        <dt>校区</dt>
        <dd>{{ lesson.get_campus_display }}</dd>
    </dl>
    <dl class="dl-horizontal col-sm-6">
        <dt>培养类别</dt>
        <dd>{{ lesson.get_teachType_display }}</dd>
    </dl>
    <dl class="dl-horizontal col-sm-6">
        <dt>课程类型</dt>
        <dd>{{ lesson.get_type_display }}</dd>
    </dl>
</div>

<div id="belowPart" class="row">
    <div class="col-md-8 container">
        <div class="h4 block-heading">评论</div>
        <div ><!--Comments area -->
            {% if comments %}
            {% for comment in comments %}
            <div class="panel panel-primary">
                <div class="panel-body text-left">{{ comment.content }}</div>
                <div class="panel-footer text-left">
                    <span>{{ comment.name }}</span>
                    <span>{{ comment.time }}</span>
                    <button type="button" class="reply-btn btn btn-primary" data-toggle="modal" data-target="#inputModal">回复</button>
                </div>
            </div>
            {% endfor %}
            {% else %}
            <p>暂时还没有评论哦。</p>
            {% endif %}
        </div><!--Comments area end-->
        <div><!-- New comment -->
            <button type="button" class="reply-btn btn btn-primary" data-toggle="modal" data-target="#inputModal">回复</button>
        </div><!-- New comment end -->
    </div>
    <div class="col-md-4 container well">
        <div class="h4 block-heading">资源</div>
        {% if meterials %}
        <ul class="list-unstyled text-center">
            {% for meterial in meterials %}
            <li><a href="{{ meterial.file }}" download class="col-md-6  col-sm-4 col-xs-12">{{ meterial.title }}</a></li>
            {% endfor %}
        </ul>
        {% else %}
        <p>快来分享您的课程资源啦！</p>
        {% endif %}
        <div class="text-center">
            <input type="file" id="fileUpload">
            <button type="submit" class="btn btn-success">发布</button>
            </input>
        </div>
    </div>
</div>

<div><!-- Modal-->
  <div class="modal fade" id="inputModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel">发布评论</h4>
        </div>
        <div class="modal-body">
          <textarea id="commentContent" row="5" class="commentArea" value=""></textarea>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
          <button type="button" class="btn btn-success">发布</button>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock main %}
